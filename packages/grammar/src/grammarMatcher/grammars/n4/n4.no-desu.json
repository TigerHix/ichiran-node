{
  "id": "n4.no-desu",
  "label": "～んです・のです",
  "level": "N4",
  "description": "Provides an explanation or gives background information; 'the fact is', 'the reason is', 'actually'.",
  "formation": "Verb-casual + のです, い-Adjective + のです, な-Adjective + なのです, Noun + なのです",
  "priority": 10,
  "pattern": {
    "alt": [
      {
        "comment": "Predicate + compound のです/んです token (as two separate tokens)",
        "sequence": [
          {
            "capture": "predicate",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "hasVerbalConjugation"
                  ]
                },
                {
                  "token": [
                    "isIAdjective"
                  ]
                },
                {
                  "token": [
                    "isAuxiliary"
                  ]
                }
              ]
            }
          },
          {
            "capture": "nDesu",
            "pattern": {
              "token": [
                "pos:exp",
                "text:/^(の|ん)(です|だ)(か|けど|が)?$/"
              ]
            }
          }
        ]
      },
      {
        "comment": "Expression ending in んです/んだ/のです/のだ - check if prefix has predicate POS",
        "capture": "compound",
        "pattern": {
          "alt": [
            {
              "token": [
                "pos:exp",
                "text:/んです(か|けど|が)?$/",
                "prefixHasPos:んです:v,adj-i,adj-na,aux"
              ]
            },
            {
              "token": [
                "pos:exp",
                "text:/んだ$/",
                "prefixHasPos:んだ:v,adj-i,adj-na,aux"
              ]
            },
            {
              "token": [
                "pos:exp",
                "text:/のです(か|けど|が)?$/",
                "prefixHasPos:のです:v,adj-i,adj-na,aux"
              ]
            },
            {
              "token": [
                "pos:exp",
                "text:/のだ$/",
                "prefixHasPos:のだ:v,adj-i,adj-na,aux"
              ]
            }
          ]
        }
      },
      {
        "comment": "Expression ending in bare ん/の (verb+ん compound) + です/だ",
        "sequence": [
          {
            "capture": "compound",
            "pattern": {
              "token": [
                "pos:exp",
                "text:/[んの]$/"
              ]
            }
          },
          {
            "capture": "copula",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "text:です"
                  ]
                },
                {
                  "token": [
                    "text:だ"
                  ]
                }
              ]
            }
          },
          {
            "optional": {
              "alt": [
                {
                  "token": [
                    "text:か"
                  ]
                },
                {
                  "token": [
                    "text:けど"
                  ]
                },
                {
                  "token": [
                    "text:が"
                  ]
                }
              ]
            }
          }
        ]
      },
      {
        "comment": "Predicate + の/ん + です/だ (not ので cause connector)",
        "sequence": [
          {
            "capture": "predicate",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "hasVerbalConjugation"
                  ]
                },
                {
                  "token": [
                    "isIAdjective"
                  ]
                },
                {
                  "token": [
                    "isAuxiliary"
                  ]
                }
              ]
            }
          },
          {
            "capture": "no",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "text:の"
                  ]
                },
                {
                  "token": [
                    "text:ん"
                  ]
                }
              ]
            }
          },
          {
            "not": {
              "token": [
                "text:で"
              ]
            }
          },
          {
            "capture": "copula",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "text:です"
                  ]
                },
                {
                  "token": [
                    "text:だ"
                  ]
                }
              ]
            }
          },
          {
            "optional": {
              "alt": [
                {
                  "token": [
                    "text:か"
                  ]
                },
                {
                  "token": [
                    "text:けど"
                  ]
                },
                {
                  "token": [
                    "text:が"
                  ]
                }
              ]
            }
          }
        ]
      },
      {
        "comment": "Na-adj/Noun + な + の/ん + です/だ (not のは cleft)",
        "sequence": [
          {
            "capture": "predicate",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "isNaAdjective"
                  ]
                },
                {
                  "token": [
                    "isNominalHead"
                  ]
                }
              ]
            }
          },
          {
            "capture": "na",
            "pattern": {
              "token": [
                "text:な"
              ]
            }
          },
          {
            "capture": "no",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "text:の"
                  ]
                },
                {
                  "token": [
                    "text:ん"
                  ]
                }
              ]
            }
          },
          {
            "not": {
              "token": [
                "text:は"
              ]
            }
          },
          {
            "capture": "copula",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "text:です"
                  ]
                },
                {
                  "token": [
                    "text:だ"
                  ]
                }
              ]
            }
          },
          {
            "optional": {
              "alt": [
                {
                  "token": [
                    "text:か"
                  ]
                },
                {
                  "token": [
                    "text:けど"
                  ]
                },
                {
                  "token": [
                    "text:が"
                  ]
                }
              ]
            }
          }
        ]
      },
      {
        "comment": "Casual sentence-final の (not ので, not のは, not のか)",
        "sequence": [
          {
            "capture": "predicate",
            "pattern": {
              "alt": [
                {
                  "token": [
                    "hasVerbalConjugation"
                  ]
                },
                {
                  "token": [
                    "isIAdjective"
                  ]
                },
                {
                  "token": [
                    "isAuxiliary"
                  ]
                }
              ]
            }
          },
          {
            "capture": "no",
            "pattern": {
              "token": [
                "text:の"
              ]
            }
          },
          {
            "not": {
              "alt": [
                {
                  "token": [
                    "text:で"
                  ]
                },
                {
                  "token": [
                    "text:は"
                  ]
                },
                {
                  "token": [
                    "text:か"
                  ]
                }
              ]
            }
          },
          {
            "anchor": "end"
          }
        ]
      }
    ]
  },
  "explanation": "Presents background, reason, or clarification. Adds explanatory/emphatic tone to what would otherwise be a bare statement.",
  "examples": [
    {
      "jp": "今日は早く帰るんです。",
      "en": "I'm actually heading home early today."
    },
    {
      "jp": "どうしたんですか。",
      "en": "What happened?"
    },
    {
      "jp": "会議は明日なんです。",
      "en": "The meeting is actually tomorrow."
    },
    {
      "jp": "この道は安全じゃないんです。",
      "en": "This road isn't safe, you see."
    },
    {
      "jp": "ちょっと寒くないんですか。",
      "en": "Isn't it a bit cold?"
    },
    {
      "jp": "実は、彼は元上司だったんです。",
      "en": "Actually, he used to be my boss."
    },
    {
      "jp": "急いでいたので、丁寧に説明できなかったのです。",
      "en": "I was in a hurry, so I couldn't explain it carefully."
    },
    {
      "jp": "昨日はとても静かだったんです。",
      "en": "It was very quiet yesterday."
    },
    {
      "jp": "先週は忙しかったのです。",
      "en": "I was busy last week."
    },
    {
      "jp": "今は手が離せないんですが、後でかけ直してもいいですか。",
      "en": "I'm tied up right now, but may I call you back later?"
    },
    {
      "jp": "それが真実なのだ。",
      "en": "That is the truth."
    },
    {
      "jp": "彼は来なかったのだ。",
      "en": "He didn't come."
    },
    {
      "jp": "なんでそんなに慌てているんだ？",
      "en": "Why are you in such a rush?"
    },
    {
      "jp": "ここは入場無料なのですか。",
      "en": "Is admission free here?"
    },
    {
      "jp": "私の担当ではないんです。",
      "en": "It's not my responsibility."
    },
    {
      "jp": "今日は都合が悪いんですけど、また別の日にお願いできますか。",
      "en": "I'm not available today—could we do another day?"
    },
    {
      "jp": "さっき雨が降ったのです。",
      "en": "It rained a little while ago."
    },
    {
      "jp": "雨が降るんだ。",
      "en": "It's going to rain, you know."
    },
    {
      "jp": "思ったほど高くなかったんです。",
      "en": "It wasn't as expensive as I thought."
    },
    {
      "jp": "それは冗談ではなかったんです。",
      "en": "It wasn't a joke."
    }
  ],
  "negativeExamples": [
    {
      "jp": "これは母のです。",
      "en": "This is my mother's."
    },
    {
      "jp": "これは何のですか。",
      "en": "What is this for?"
    },
    {
      "jp": "雨なので、今日は中止します。",
      "en": "Since it's raining, we're canceling today."
    },
    {
      "jp": "学生ではないです。",
      "en": "I'm not a student."
    },
    {
      "jp": "そういうわけです。",
      "en": "That's the reason."
    },
    {
      "jp": "急いでいるので、先に行きます。",
      "en": "Since I'm in a hurry, I'll go ahead."
    },
    {
      "jp": "一番大切なのは健康だ。",
      "en": "The most important thing is health."
    },
    {
      "jp": "出発は明日ということです。",
      "en": "Departure is tomorrow."
    },
    {
      "jp": "これは会社のです。",
      "en": "This belongs to the company."
    },
    {
      "jp": "わたしのいえに、タマというねこがいます。",
      "en": "There is a cat named Tammy in my house."
    }
  ],
  "startGate": {
    "near": {
      "predicates": [
        "text:/^(の|ん)(です|だ)(か|けど|が)?$/",
        "text:/^(の|ん)$/",
        "text:です"
      ],
      "window": { "left": 0, "right": 6 }
    },
    "anyToken": [
      "text:/^(の|ん)(です|だ)(か|けど|が)?$/",
      "text:/^(の|ん)$/",
      "text:です"
    ]
  }
}
